通过 col、main、seco 三个数组记录列、主对角线、副对角线的占用情况，逐行搜索。

```python
class Solution:
    def solveNQueens(self, n: int) -> List[List[str]]:
        queen=[0]*n
        col=[True]*n
        main=[True]*(2*n-1)
        seco=[True]*(2*n-1)
        ans=[]
        def dfs(row):
            if row==n:
                re=[]
                for i in queen:
                    re.append('.'*i+'Q'+'.'*(n-i-1))
                ans.append(re)
                return
            for i in range(n):
                if col[i] and main[row-i] and seco[row+i]:
                    col[i]=False
                    main[row-i]=False
                    seco[row+i]=False
                    queen[row]=i
                    dfs(row+1)
                    queen[row]=0
                    col[i]=True
                    main[row-i]=True
                    seco[row+i]=True
        dfs(0)
        return ans
```

