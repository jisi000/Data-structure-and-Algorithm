启发式搜索（Warnsdorff 规则）

> 在每一步选择下一个移动位置时，优先选择 **下一步可选位置最少** 的格子。
> 这样可以减少回溯次数，大幅提升搜索速度。

实现方法：在 `dfs` 中，对当前可走的 `(dx, dy)` 方向进行排序，按照“目标格子的下一步可走格子数”升序排序。

```python
n=int(input())
start=tuple(map(int,input().split()))
def dfs(loc,c):
    if c==n**2:
        return True
    x,y=loc
    moves=[]
    for dx,dy in d:
        a,b=x+dx,y+dy
        if 0<=a<n and 0<=b<n and not visited[a][b]:
            cnt = 0
            for ddx, ddy in d:
                aa, bb = a + ddx, b + ddy
                if 0 <= aa < n and 0 <= bb < n and not visited[aa][bb]:
                    cnt += 1
            moves.append((cnt, a, b))
    moves.sort()
    for cnt, a, b in moves:
        visited[a][b] = True
        if dfs((a, b), c + 1):
            return True
        visited[a][b] = False
    return False
d=[(2,1),(2,-1),(-2,1),(-2,-1),(1,2),(1,-2),(-1,2),(-1,-2)]
visited=[[False]*n for _ in range(n)]
visited[start[0]][start[1]]=True
if dfs(start,1):
    print('success')
else:
    print('fail')
```

