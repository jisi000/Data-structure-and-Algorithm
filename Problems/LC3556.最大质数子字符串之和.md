最大的数是10^10-1，一个合数一定存在小于等于其平方根的因数，因此只要筛选出10^5范围内的质数，就能判断全部的数是否是质数。使用欧式筛法。

```python
n=10**5
primes=[]
is_prime=[True]*(n+1)
is_prime[0]=is_prime[1]=False
for i in range(2,n+1):
    if is_prime[i]:
        primes.append(i)
    for p in primes:
        if p*i>n:
            break
        is_prime[p*i]=False
        if i%p==0:
            break
def is_p(x):
    if x<=n:
        return is_prime[x]
    for p in primes:
        if p*p>x:
            break
        if x%p==0:
            return False
    return True
class Solution:
    def sumOfLargestPrimes(self, s: str) -> int:
        choice=set()
        for j in range(1,len(s)+1):
            for i in range(j):
                if is_p(int(s[i:j])):
                    choice.add(int(s[i:j]))
        ans=sorted(list(choice),reverse=True)
        return sum(ans[:3])
```

