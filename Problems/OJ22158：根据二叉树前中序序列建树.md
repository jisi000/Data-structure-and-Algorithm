前序遍历的第一个字母是根节点，在中序遍历中找到根节点的位置lo，那么左子树即为用pre[1:lo+1]和mid[:lo]建的树，右子树即为用pre[lo+1:]和mid[lo+1:]建的树。如此可以用递归思路建树。

建完树进行后序遍历即可

```python
class TreeNode:
    def __init__(self,val=None,left=None,right=None):
        self.val=val
        self.left=left
        self.right=right
def generate_tree(pre,mid):
    if not pre:
        return None
    root=TreeNode(pre[0])
    lo=-1
    for i in range(len(mid)):
        if mid[i]==root.val:
            lo=i
    root.left=generate_tree(pre[1:lo+1],mid[:lo])
    root.right=generate_tree(pre[lo+1:],mid[lo+1:])
    return root
def back_order(node):
    if node:
        back_order(node.left)
        back_order(node.right)
        ans.append(node.val)
while True:
    try:
        pre_order=input()
        mid_order=input()
        ans=[]
        tree=generate_tree(pre_order,mid_order)
        back_order(tree)
        print(''.join(ans))
    except EOFError:
        break

```

